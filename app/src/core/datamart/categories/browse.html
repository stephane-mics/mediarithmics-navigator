
<div class="mcs-default-container " ng-controller="core/datamart/categories/BrowseController">
  <div class="mcs-default-sidebar">
  </div>
  <div class="mcs-default-content">

    <div ng-include src="'src/core/datamart/nav.html'" class="row"></div>
  
      <div  class="row">

        <!-- Search form -->
        <div class="mics-table-toolbar">
          <div class="col-md-12" >  

            <!-- Catalog view -->
            <div ng-hide="currentCategory !== null">

              <!-- Search form -->
              <form class="datamart clearfix" role="form">

                <div class="form-group pull-left right-spaced not-bottom-spaced">
                  <label for="catalogSelect">Catalog</label>
                  <select id="catalogSelect" class="form-control" ng-model="catalog" ng-options="m.$catalog_id for m in catalogs" ng-change="changeCatalog()">
                    <option value="">Select a catalog</option>
                  </select>
                </div>
              </form>

              <!--<div class="vertically-spaced">-->
                <!--<label class="blue">Available catalogs</label>-->
                <!--<div class="category-item" ng-repeat="catalog in catalogs">-->
                    <!--<span class="glyphicon glyphicon-th"></span> <a href="{{catalogBase  + catalog.$catalog_id}}" > {{catalog.$catalog_id}}</a>-->
                <!--</div>-->
              <!--</div>-->

            </div>
              
            <!-- Single category view -->
            <div class="clearfix" ng-hide="currentCategory == null">

              <!-- Current category -->
              <div class="pull-left">
                <label class="blue">Current category</label>
                <div class="category-item">
                  {{ currentCategory.category_id }}
                </div>
              </div>
              
              <!-- Parent-categories  -->
              <div class="pull-left left-spaced">
                <div>
                  <label class="blue">Parents</label>
                </div>
                <div class="category-list">
                  <a href="{{ baseUrl  + '/'+ element.category_id }}" ng-repeat="element in parents" class="category-item">{{ element.category_id }}</a>
                </div>
              </div>
            </div>    
          </div>  
      </div>

      <!-- Sub-categories -->
      <div mics-datamart-grid template="'src/core/datamart/categories/category-grid.template.html'" element-template="'src/core/datamart/categories/category-grid-element.template.html'" data="categories" refresh="refreshCategories" url-prefix="baseUrl" page-size="categoriesPerPage" ng-show="categories.length > 0"></div>
    </div>

    <div mics-datamart-grid element-template="'src/core/datamart/items/item-grid-element.template.html'" data="datasheets" refresh="refreshDatasheets" url-prefix="itemUrl"></div>

  </div>
